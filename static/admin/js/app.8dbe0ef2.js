(function(){"use strict";var t={2890:function(t,e,a){var i=a(5471),s=a(8505),n=function(){var t=this,e=t._self._c;return e(s.A,{staticStyle:{"min-height":"100vh",width:"100%",margin:"0",padding:"0"}},[e("router-link",{attrs:{to:"/staff"}}),e("router-link",{attrs:{to:"/staffGroups"}}),e("router-link",{attrs:{to:"/orders"}}),e("router-link",{attrs:{to:"/publications"}}),e("router-view")],1)},o=[],r={name:"App",data:()=>({})},l=r,c=a(1656),d=(0,c.A)(l,n,o,!1,null,null,null),u=d.exports,p=a(173),h=a(5353);i.Ay.use(h.Ay);var m=new h.Ay.Store({state:{auth:!1,menuSectionHeader:"",authToken:""},getters:{},mutations:{setAuth(t,e){t.auth=e},setMenuSectionHeader(t,e){t.menuSectionHeader=e},setAuthToken(t,e){t.authToken=e}},actions:{},modules:{}}),g=a(6929),f=a(6521),x=a(8230),v=a(3021),b=a(7410),y=a(9940),A=a(1735),S=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%","min-height":"100%"}},[e(g.A,{staticClass:"header-main",attrs:{color:"#163179",dark:"",elevation:"4"}},[e(b.A),e(A.sw,[t._v("Комбинат Братскжелезобетон")]),e(b.A)],1),e("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},[e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","min-width":"40%",margin:"auto",padding:"2px",background:"linear-gradient(30deg, #163179, #0F2254)","border-radius":"20px"}},[e("p",{staticStyle:{"font-size":"1.3em",color:"#FFFFFF","margin-top":"16px"}},[t._v("Авторизация")]),e(x.A,{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",width:"100%",padding:"20px 20px","background-color":"#FFFFFF","border-radius":"18px"},attrs:{"lazy-validation":""},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.handleEnterKey.apply(null,arguments))}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(y.A,{staticClass:"text-field",attrs:{label:"Логин",rules:t.rules,required:""},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),e(y.A,{staticClass:"text-field",attrs:{label:"Пароль",rules:t.rules,required:"","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password"},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(f.A,{staticStyle:{color:"#FFFFFF"},attrs:{color:"#11255C"},on:{click:t.checkAuth}},[t._v(" Войти ")])],1)],1)]),e(v.A,{attrs:{timeout:2e3,color:"error"},model:{value:t.noUser,callback:function(e){t.noUser=e},expression:"noUser"}},[t._v("Пользователь не найден. Проверьте указанные данные.")]),e(v.A,{attrs:{timeout:2e3,color:"error"},model:{value:t.noData,callback:function(e){t.noData=e},expression:"noData"}},[t._v("Убедитесь, что все поля заполнены.")])],1)},k=[],w=(a(4114),{name:"authorization",data(){return{valid:!0,login:"",password:"",show:!1,rules:[t=>!!t||"Поле обязательно для заполнения"],noUser:!1,noData:!1}},methods:{async checkAuth(){this.$store.commit("setAuth",!1);let t=null;if(this.login&&this.password){const e="/internal/user/login",a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:`${this.login}`,password:`${this.password}`})};await fetch(e,a).then((async e=>{if(200!==e.status)this.noUser=!0;else{const a=await e.json();if(!a.error){this.$store.commit("setAuth",!0),this.$store.commit("setAuthToken",a.data.token);const e="/internal/user/my_info",i={method:"GET",headers:{"Content-Type":"application/json",Authorization:this.$store.state.authToken}};await fetch(e,i).then((async e=>{if(200!==e.status)throw e.error;{const a=await e.json();t=a.data.mainPage.slice(1)}}))}}})),this.$store.state.auth?this.$router.push({name:`${t}`}):this.noUser=!0}else this.noData=!0},handleEnterKey(t){"Enter"===t.key&&this.checkAuth()}}}),I=w,C=(0,c.A)(I,S,k,!1,null,"254b72a2",null),_=C.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("headerAndMenu",[e(t.forme,{tag:"component"})],1)],1)},$=[],P=a(8400),U=a(1689),E=a(9456),D=a(2987),F=a(1075),G=a(6067),j=a(24),q=a(9379),z=a(4250),O=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",height:"100%",width:"100%",margin:"0",padding:"0"}},[e(U.A,{staticStyle:{display:"flex","flex-direction":"column",width:"100%","border-radius":"0px"}},[e(g.A,{staticClass:"header-main",staticStyle:{position:"fixed","z-index":"2"},attrs:{color:"#163179",dark:"",elevation:"4"}},[e(P.A,{on:{click:function(e){t.drawer=!0}}}),e(A.sw,{staticClass:"naming"},[t._v("Комбинат Братскжелезобетон | "+t._s(this.$store.state.menuSectionHeader))]),e(b.A),e("router-link",{attrs:{to:"/me"}},[e("div",{staticClass:"user-name"},[t._v(" "+t._s(t.userName)+" ")])]),e("router-link",{attrs:{to:"/authorization"}},[e("div",{staticClass:"user-name"},[e(f.A,{staticStyle:{color:"white"},attrs:{icon:""}},[e(E.A,[t._v(" mdi-exit-to-app ")])],1)],1)])],1),e(z.A,{staticClass:"navigation-drawer-color",staticStyle:{position:"fixed","z-index":"3"},attrs:{absolute:"",temporary:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(D.A,{staticClass:"list-partitions",attrs:{nav:""}},[e(G.A,[e("router-link",{attrs:{to:"/staff"}},[e(F.A,{attrs:{color:"white"}},[e(j.A,{staticClass:"icon-margin"},[e(E.A,[t._v("mdi-account")])],1),e(q.UZ,[t._v("Сотрудники")])],1)],1),e("router-link",{attrs:{to:"/staffGroups"}},[e(F.A,{attrs:{color:"white"}},[e(j.A,{staticClass:"icon-margin"},[e(E.A,[t._v("mdi-account-multiple")])],1),e(q.UZ,[t._v("Группы сотрудников")])],1)],1),e("router-link",{attrs:{to:"/orders"}},[e(F.A,{attrs:{color:"white"}},[e(j.A,{staticClass:"icon-margin"},[e(E.A,[t._v("mdi-order-bool-descending-variant")])],1),e(q.UZ,[t._v("Заказы")])],1)],1),e("router-link",{attrs:{to:"/publications"}},[e(F.A,{attrs:{color:"white"}},[e(j.A,{staticClass:"icon-margin"},[e(E.A,[t._v("mdi-panorama-variant-outline")])],1),e(q.UZ,[t._v("Публикации")])],1)],1)],1)],1)],1),e("div",{staticStyle:{height:"100%",width:"100%",padding:"10px","margin-top":"64px","z-index":"1"}},[t._t("default")],2)],1),e("router-view")],1)},M=[],N={name:"headerAndMenu",data(){return{userName:"",drawer:!1,group:null}},async created(){const t="/internal/user/my_info",e={method:"GET",headers:{"Content-Type":"application/json",Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?console.log(e.message):this.userName=e.data.firstname}))},watch:{group(){this.drawer=!1}}},L=N,R=(0,c.A)(L,O,M,!1,null,"48b2d254",null),H=R.exports,V=a(6074),B=a(1526),J=a(5664),Z=a(980),Y=a(8412),W=a(4731),K=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},[e(Y.A,{staticStyle:{"flex-grow":"1"},attrs:{dense:""}},[e(B.A,{attrs:{cols:"12",sm:"12"}},[e(U.A,{staticClass:"partition"},[e(J.A,{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[e(V.A,{attrs:{size:"120"}},[t.userData.img?e(Z.A,{attrs:{src:"/media/"+t.userData.img}},[e(Y.A,{staticClass:"flex-column",attrs:{justify:"center"}},[e("div",{staticClass:"align-self-center"},[e(f.A,{class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)",icon:""},on:{click:t.openFileDialog}},[e(E.A,{class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)"}},[t._v(" mdi-image-edit-outline ")])],1)],1)])],1):e(Z.A,{attrs:{src:"default.png"}},[e(Y.A,{staticClass:"flex-column",attrs:{justify:"center"}},[e("div",{staticClass:"align-self-center"},[e(f.A,{class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)",icon:""},on:{click:t.openFileDialog}},[e(E.A,{class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)"}},[t._v(" mdi-image-edit-outline ")])],1)],1)])],1)],1)]}}])}),e("div",{staticStyle:{"margin-top":"15px",padding:"0px 10px","font-size":"1.5em","text-align":"center"}},[t._v(" "+t._s(t.userData.lastname)+" "+t._s(t.userData.firstname)+" "+t._s(t.userData.middlename)+" ")])],1)],1)],1),e(Y.A,{staticStyle:{height:"473.36"},attrs:{dense:""}},[e(B.A,{attrs:{cols:"12",sm:"4"}},[e(U.A,{staticClass:"partition"},[e("p",{staticStyle:{width:"100%","text-align":"center","font-size":"1.3em",margin:"16px"}},[t._v(" Настройки ")]),e("div",{staticStyle:{width:"100%","text-align":"center","margin-bottom":"8px"}},[e("p",[t._v("Смена пароля")]),e(y.A,{staticStyle:{margin:"auto 20px"},attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",type:t.show1?"text":"password",dense:"",clearable:"",label:"Нынешний пароль"},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.oldPass,callback:function(e){t.oldPass=e},expression:"oldPass"}}),e(y.A,{staticStyle:{margin:"auto 20px"},attrs:{"append-icon":t.show2?"mdi-eye":"mdi-eye-off",type:t.show2?"text":"password",dense:"",clearable:"",label:"Новый пароль"},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.newPass,callback:function(e){t.newPass=e},expression:"newPass"}}),e(y.A,{staticStyle:{margin:"auto 20px"},attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",dense:"",clearable:"",label:"Повторите пароль"},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.newPassRepeat,callback:function(e){t.newPassRepeat=e},expression:"newPassRepeat"}})],1),e("div",{staticStyle:{width:"100%","text-align":"center","margin-bottom":"8px"}},[e("p",[t._v("Начальная страница")]),e(W.A,{staticStyle:{margin:"auto 20px"},attrs:{dense:"",items:t.items,"item-text":"partitionMenu","item-value":"partitionMenuProps","return-object":""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),e(b.A),e(f.A,{staticStyle:{width:"100%"},attrs:{color:"error"},on:{click:function(e){return t.saveChanges()}}},[t._v("Сохранить")])],1)],1),e(B.A,{attrs:{cols:"12",sm:"8"}},[e(U.A,{staticClass:"partition"},[e("p",{staticStyle:{width:"100%",margin:"16px","font-size":"1.3em","text-align":"center"}},[t._v(" Подробная информация ")]),e("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%",height:"100%"}},[e("div",{staticStyle:{width:"100%",height:"100%",padding:"0px 16px",display:"flex !important","flex-direction":"column","text-align":"left !important"}},[e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Возраст: "+t._s(t.userData.age)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Дата рождения: "+t._s(t.userData.birthday)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Пол: "+t._s(t.userData.sex)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Образование: "+t._s(t.userData.quality)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Должность: "+t._s(t.userData.post)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Опыт работы: "+t._s(t.userData.experience)+" лет ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" З/П: "+t._s(t.userData.salary)+" ₽ ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" E-mail: "+t._s(t.userData.email)+" ")]),e("div",{staticStyle:{width:"100%",padding:"10px 15px"}},[t._v(" Телефон: "+t._s(t.userData.phone)+" ")]),t.userData.userGroups?e(W.A,{staticStyle:{width:"100%",padding:"10px 15px"},attrs:{items:t.userData.userGroups,label:"Группы пользователей",multiple:"",chips:"",outlined:"",readonly:""},model:{value:t.userData.userGroups,callback:function(e){t.$set(t.userData,"userGroups",e)},expression:"userData.userGroups"}}):t._e()],1)])])],1)],1),e(v.A,{attrs:{timeout:t.timeout,color:"success"},model:{value:t.changesSuccess,callback:function(e){t.changesSuccess=e},expression:"changesSuccess"}},[t._v("Изменения успешно сохранены.")]),e(v.A,{attrs:{timeout:t.timeout,color:"red"},model:{value:t.passwordsNotSimilar,callback:function(e){t.passwordsNotSimilar=e},expression:"passwordsNotSimilar"}},[t._v("Пароли не совпадают.")]),e(v.A,{attrs:{timeout:t.timeout,color:"red"},model:{value:t.oldPassBad,callback:function(e){t.oldPassBad=e},expression:"oldPassBad"}},[t._v("Введён неверный старый пароль.")])],1)},Q=[],X=a(1241),tt={name:"forMe",data(){return{userData:{},select:"",oldPass:"",newPass:"",newPassRepeat:"",show1:!1,show2:!1,show3:!1,timeout:2e3,changesSuccess:!1,passwordsNotSimilar:!1,oldPassBad:!1,items:[{partitionMenu:"Сотрудники",partitionMenuProps:"staff"},{partitionMenu:"Группы сотрудников",partitionMenuProps:"staffGroups"},{partitionMenu:"Заказы",partitionMenuProps:"orders"},{partitionMenu:"Публикации",partitionMenuProps:"publications"},{partitionMenu:"Личный кабинет",partitionMenuProps:"me"}]}},async created(){const t="/internal/user/my_info",e={method:"GET",headers:{"Content-Type":"application/json",Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.userData={age:e.data.age,birthday:e.data.birthday,sex:e.data.sex,quality:e.data.quality,post:e.data.post,experience:e.data.experience,salary:e.data.salary,email:e.data.email,phone:e.data.phone,userGroups:e.data.userGroups,lastname:e.data.lastname,firstname:e.data.firstname,middlename:e.data.middlename,mainPage:e.data.mainPage,login:e.data.login,img:e.data.img}}}));const a=this.userData.mainPage.slice(1);this.select=this.items.find((t=>t.partitionMenuProps===a))},methods:{async saveChanges(){if(this.newPass===this.newPassRepeat){const t="/internal/user/update_my",e={method:"POST",headers:{"Content-Type":"application/json",Authorization:this.$store.state.authToken},body:JSON.stringify({mainPage:`/${this.select.partitionMenuProps}`,oldPassword:this.oldPass,newPassword:this.newPass})};await fetch(t,e).then((async t=>{if(200!==t.status)this.oldPassBad=!0;else{await t.json();this.oldPass="",this.newPass="",this.newPassRepeat="",this.changesSuccess=!0}}))}else this.passwordsNotSimilar=!0},openFileDialog(){const{files:t,open:e,reset:a,onChange:i}=(0,X.uZ0)({accept:"image/*",directory:!1,multiple:!1});e(),i((t=>{if(t.length){const e=new FileReader;e.onload=()=>{let e=new FormData;e.append("image",t[0]),this.queryImageResize(e)},e.readAsDataURL(t[0])}}))},queryImageResize(t){const e="/internal/user/image",a={method:"POST",headers:{Authorization:this.$store.state.authToken},body:t};fetch(e,a).then((async t=>{const e=await t.json();this.userData.img=e.data.imageName}))}}},et=tt,at=(0,c.A)(et,K,Q,!1,null,"dced742c",null),it=at.exports,st={name:"me",components:{headerAndMenu:H,forMe:it},data(){return{forme:"forMe"}},beforeCreate(){this.$store.commit("setMenuSectionHeader","Личный кабинет")}},nt=st,ot=(0,c.A)(nt,T,$,!1,null,"92f89490",null),rt=ot.exports,lt=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%","min-height":"100%"}},[e("headerAndMenu",[e(t.forStaff,{tag:"component"})],1)],1)},ct=[],dt=a(2781),ut=a(7155),pt=a(1373),ht=a(4155),mt=a(1770),gt=a(6253),ft=a(389),xt=a(4257),vt=a(4516),bt=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},[e("div",{staticClass:"functionsBlock"},[e(y.A,{staticStyle:{display:"flex","flex-grow":"18","margin-right":"5px"},attrs:{solo:"",label:"Поиск","append-icon":"mdi-magnify","hide-details":"","single-line":"",disabled:t.disableAll},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"100%",margin:"0px 5px"},attrs:{color:"green",disabled:t.disableAll},on:{click:t.openDialogCreate}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-plus")]),t._v(" Добавить ")],1),e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"100%","margin-left":"5px"},attrs:{color:"red",disabled:t.disableAll},on:{click:t.removeUsers}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-cancel")]),t._v(" Удалить ")],1)],1),e("div",{staticStyle:{height:"100%",width:"100%","padding-top":"10px"}},[e(pt.A,{staticClass:"elevation-1",staticStyle:{"max-height":"100%",width:"100%"},attrs:{headers:t.dataTableHeaders,items:t.users,search:t.search,"item-key":"id","loading-text":"Минуточку... Данные на подходе",responsive:!0},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",[e("td",[e(ut.A,{on:{click:function(t){}},model:{value:a.isSelected,callback:function(e){t.$set(a,"isSelected",e)},expression:"item.isSelected"}})],1),t._l(t.dataTableHeaders,(function(i,s){return"empty"!==i.value?e("td",{key:s,on:{click:function(e){return e.stopPropagation(),t.openDialogUpdate(a)}}},[t._v(" "+t._s(a[i.value])+" ")]):t._e()}))],2)]}},{key:"no-data",fn:function(){return[e(dt.A,{staticStyle:{"margin-top":"16px",color:"#666666"},attrs:{value:!0,dense:""}},[t._v(" Всё куда-то пропало... Обратитесь куда-нибудь ")])]},proxy:!0}])})],1),e(ht.A,{attrs:{persistent:""},model:{value:t.dialogUpdate,callback:function(e){t.dialogUpdate=e},expression:"dialogUpdate"}},[e(gt.A,{model:{value:t.pageDialogUpdate,callback:function(e){t.pageDialogUpdate=e},expression:"pageDialogUpdate"}},[e(xt.vY,[e(vt.A,{attrs:{complete:t.pageDialogUpdate>1,step:"1"}},[t._v(" Личная информация ")]),e(mt.A),e(vt.A,{attrs:{complete:t.pageDialogUpdate>2,step:"2"}},[t._v(" Рабочая информация ")]),e(mt.A),e(vt.A,{attrs:{step:"3"}},[t._v(" Контакты ")])],1),e(xt.WV,[e(ft.A,{attrs:{step:"1"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Фамилия"},model:{value:t.updatingItem.lastname,callback:function(e){t.$set(t.updatingItem,"lastname",e)},expression:"updatingItem.lastname"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Имя"},model:{value:t.updatingItem.firstname,callback:function(e){t.$set(t.updatingItem,"firstname",e)},expression:"updatingItem.firstname"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Отчество"},model:{value:t.updatingItem.middlename,callback:function(e){t.$set(t.updatingItem,"middlename",e)},expression:"updatingItem.middlename"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Возраст",type:"number"},model:{value:t.updatingItem.age,callback:function(e){t.$set(t.updatingItem,"age",e)},expression:"updatingItem.age"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Дата рождения"},model:{value:t.updatingItem.birthday,callback:function(e){t.$set(t.updatingItem,"birthday",e)},expression:"updatingItem.birthday"}})],1),e("div",{staticClass:"userInfoField"},[e(W.A,{attrs:{required:"",items:t.sexCases,label:"Пол"},model:{value:t.updatingItem.sex,callback:function(e){t.$set(t.updatingItem,"sex",e)},expression:"updatingItem.sex"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Образование"},model:{value:t.updatingItem.quality,callback:function(e){t.$set(t.updatingItem,"quality",e)},expression:"updatingItem.quality"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogUpdate=2}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")])],1)],1)],1),e(ft.A,{attrs:{step:"2"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Должность"},model:{value:t.updatingItem.post,callback:function(e){t.$set(t.updatingItem,"post",e)},expression:"updatingItem.post"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Опыт работы",type:"number"},model:{value:t.updatingItem.experience,callback:function(e){t.$set(t.updatingItem,"experience",e)},expression:"updatingItem.experience"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"З/П",type:"number"},model:{value:t.updatingItem.salary,callback:function(e){t.$set(t.updatingItem,"salary",e)},expression:"updatingItem.salary"}})],1),e("div",{staticClass:"userInfoField"},[e(W.A,{attrs:{required:"",label:"Группы пользователей",items:t.userGroupsTitles,chips:"",multiple:""},model:{value:t.updatingItem.userGroups,callback:function(e){t.$set(t.updatingItem,"userGroups",e)},expression:"updatingItem.userGroups"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Логин"},model:{value:t.updatingItem.login,callback:function(e){t.$set(t.updatingItem,"login",e)},expression:"updatingItem.login"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Пароль"},model:{value:t.newPassUpdate,callback:function(e){t.newPassUpdate=e},expression:"newPassUpdate"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogUpdate=3}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")])],1)],1)],1),e(ft.A,{attrs:{step:"3"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"E-mail"},model:{value:t.updatingItem.email,callback:function(e){t.$set(t.updatingItem,"email",e)},expression:"updatingItem.email"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Телефон"},model:{value:t.updatingItem.phone,callback:function(e){t.$set(t.updatingItem,"phone",e)},expression:"updatingItem.phone"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogUpdate=1}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")])],1)],1)],1)],1)],1)],1),e(ht.A,{attrs:{persistent:""},model:{value:t.dialogCreate,callback:function(e){t.dialogCreate=e},expression:"dialogCreate"}},[e(gt.A,{model:{value:t.pageDialogCreate,callback:function(e){t.pageDialogCreate=e},expression:"pageDialogCreate"}},[e(xt.vY,[e(vt.A,{attrs:{complete:t.pageDialogCreate>1,step:"1"}},[t._v(" Личная информация ")]),e(mt.A),e(vt.A,{attrs:{complete:t.pageDialogCreate>2,step:"2"}},[t._v(" Рабочая информация ")]),e(mt.A),e(vt.A,{attrs:{step:"3"}},[t._v(" Контакты ")])],1),e(xt.WV,[e(ft.A,{attrs:{step:"1"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Фамилия"},model:{value:t.creatingItem.lastname,callback:function(e){t.$set(t.creatingItem,"lastname",e)},expression:"creatingItem.lastname"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Имя"},model:{value:t.creatingItem.firstname,callback:function(e){t.$set(t.creatingItem,"firstname",e)},expression:"creatingItem.firstname"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Отчество"},model:{value:t.creatingItem.middlename,callback:function(e){t.$set(t.creatingItem,"middlename",e)},expression:"creatingItem.middlename"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Возраст",type:"number"},model:{value:t.creatingItem.age,callback:function(e){t.$set(t.creatingItem,"age",e)},expression:"creatingItem.age"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Дата рождения"},model:{value:t.creatingItem.birthday,callback:function(e){t.$set(t.creatingItem,"birthday",e)},expression:"creatingItem.birthday"}})],1),e("div",{staticClass:"userInfoField"},[e(W.A,{attrs:{required:"",items:t.sexCases,label:"Пол"},model:{value:t.creatingItem.sex,callback:function(e){t.$set(t.creatingItem,"sex",e)},expression:"creatingItem.sex"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Образование"},model:{value:t.creatingItem.quality,callback:function(e){t.$set(t.creatingItem,"quality",e)},expression:"creatingItem.quality"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogCreate=2}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelCreate}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveCreate}},[t._v(" Сохранить ")])],1)],1)],1),e(ft.A,{attrs:{step:"2"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Должность"},model:{value:t.creatingItem.post,callback:function(e){t.$set(t.creatingItem,"post",e)},expression:"creatingItem.post"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Опыт работы",type:"number"},model:{value:t.creatingItem.experience,callback:function(e){t.$set(t.creatingItem,"experience",e)},expression:"creatingItem.experience"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"З/П",type:"number"},model:{value:t.creatingItem.salary,callback:function(e){t.$set(t.creatingItem,"salary",e)},expression:"creatingItem.salary"}})],1),e("div",{staticClass:"userInfoField"},[e(W.A,{attrs:{required:"",label:"Группы пользователей",items:t.userGroupsTitles,chips:"",multiple:""},model:{value:t.creatingItem.userGroups,callback:function(e){t.$set(t.creatingItem,"userGroups",e)},expression:"creatingItem.userGroups"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Логин"},model:{value:t.creatingItem.login,callback:function(e){t.$set(t.creatingItem,"login",e)},expression:"creatingItem.login"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Пароль"},model:{value:t.creatingItem.password,callback:function(e){t.$set(t.creatingItem,"password",e)},expression:"creatingItem.password"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogCreate=3}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelCreate}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveCreate}},[t._v(" Сохранить ")])],1)],1)],1),e(ft.A,{attrs:{step:"3"}},[e(U.A,{staticClass:"pageCard"},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%",height:"100%"}},[e("div",{staticClass:"onePageInfo"},[e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"E-mail"},model:{value:t.creatingItem.email,callback:function(e){t.$set(t.creatingItem,"email",e)},expression:"creatingItem.email"}})],1),e("div",{staticClass:"userInfoField"},[e(y.A,{attrs:{required:"",label:"Телефон"},model:{value:t.creatingItem.phone,callback:function(e){t.$set(t.creatingItem,"phone",e)},expression:"creatingItem.phone"}})],1)])])]),e("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"row","flex-wrap":"wrap",margin:"5px 0px"}},[e(f.A,{staticClass:"buttonNext",attrs:{color:"primary"},on:{click:function(e){t.pageDialogCreate=1}}},[t._v(" Далее ")]),e(b.A),e("div",{staticClass:"buttonsRow"},[e(f.A,{staticStyle:{color:"white","margin-right":"10px"},attrs:{color:"grey"},on:{click:t.cancelCreate}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveCreate}},[t._v(" Сохранить ")])],1)],1)],1)],1)],1)],1),e(v.A,{attrs:{timeout:"2000",color:"success"},model:{value:t.changesSaved,callback:function(e){t.changesSaved=e},expression:"changesSaved"}},[t._v("Изменения успешно сохранены.")]),e(v.A,{attrs:{timeout:"2000",color:"red"},model:{value:t.snackError,callback:function(e){t.snackError=e},expression:"snackError"}},[t._v(t._s(t.snackErrorText))])],1)},yt=[],At={name:"forStaff",data(){return{dataTableHeaders:[{text:"",value:"empty",sortable:!1},{text:"ID",align:"start",value:"id"},{text:"ФИО",align:"start",value:"lfmnames"},{text:"Должность",value:"post",sortable:!1},{text:"З/П",value:"salary"},{text:"Опыт работы (лет)",value:"experience"},{text:"E-mail",value:"email",sortable:!1},{text:"Телефон",value:"phone",sortable:!1}],users:[],search:"",userGroups:[],userGroupsTitles:[],dialogUpdate:!1,dialogCreate:!1,pageDialogUpdate:1,pageDialogCreate:1,updatingItem:{},creatingItem:{login:"",password:"",firstname:"",lastname:"",middlename:"",age:"",birthday:"",sex:"",quality:"",post:"",experience:"",salary:"",email:"",phone:"",userGroups:[]},sexCases:["Мужской","Женский"],newPassUpdate:"",changesSaved:!1,snackError:!1,snackErrorText:"",disableAll:!1}},async created(){const t="/internal/user/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.users=e.data,this.users.map((async t=>{this.$set(t,"isSelected",!1),t["lfmnames"]=`${t.lastname} ${t.firstname} ${t.middlename}`;const e="/internal/user_group/all",a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.userGroups=e.data,this.userGroups.map((t=>{this.userGroupsTitles.push(t.title)}))}}))})))}))},methods:{async openDialogUpdate(t){this.pageDialogUpdate=1,this.newPassUpdate="";const e=`/internal/user/${t.id}`,a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.updatingItem=e.data}})),this.dialogUpdate=!0},async saveUpdates(){if(this.newPassUpdate){const t="/internal/user/update_auth",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify({id:this.updatingItem.id,login:this.updatingItem.login,password:this.newPassUpdate})};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;await t.json()}))}let t=!0;for(const e in this.updatingItem)""===this.updatingItem[e]&&"img"!==e&&(t=!1);if(t){let t=[];this.userGroups.map((e=>{this.updatingItem.userGroups.map((a=>{e.title===a&&t.push(e.id)}))})),this.updatingItem["userGroups"]=t;const e="/internal/user/update",a={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.updatingItem)};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{this.changesSaved=!0,this.newPassUpdate="",this.updatingItem={},this.dialogUpdate=!1;const t="/internal/user/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.users=e.data,this.users.map((t=>{this.$set(t,"isSelected",!1),t["lfmnames"]=`${t.lastname} ${t.firstname} ${t.middlename}`}))}}))}}))}else this.snackErrorText="Все поля формы должны быть заполнены.",this.snackError=!0},cancelUpdates(){this.dialogUpdate=!1,this.updatingItem={},this.newPassUpdate=""},openDialogCreate(){this.pageDialogCreate=1,this.dialogCreate=!0},async saveCreate(){let t=!0;for(const e in this.creatingItem)this.creatingItem[e]||(t=!1);if(t){if(this.dialogCreate=!1,this.creatingItem.userGroups){let t=[];this.userGroups.map((e=>{this.creatingItem.userGroups.map((a=>{e.title===a&&t.push(e.id)}))})),this.creatingItem["userGroups"]=t}const t="/internal/user/create",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.creatingItem)};await fetch(t,e).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{const t="/internal/user/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.users=e.data,this.users.map((t=>{this.$set(t,"isSelected",!1),t["lfmnames"]=`${t.lastname} ${t.firstname} ${t.middlename}`}))}})),this.creatingItem={},this.changesSaved=!0}}))}else this.snackErrorText="Все поля формы должны быть заполнены.",this.snackError=!0},cancelCreate(){this.dialogCreate=!1,this.creatingItem={}},async removeUsers(){let t=[];this.users.map((e=>{e.isSelected&&t.push(e.id)}));const e="/internal/user/delete",a={method:"DELETE",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify({idList:t})};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{const t="/internal/user/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.users=e.data,this.users.map((t=>{this.$set(t,"isSelected",!1),t["lfmnames"]=`${t.lastname} ${t.firstname} ${t.middlename}`}))}}))}})),this.users.map((e=>{t.map((t=>{e.id===t&&(e.isSelected=!1)}))}))}}},St=At,kt=(0,c.A)(St,bt,yt,!1,null,null,null),wt=kt.exports,It={name:"staff",components:{headerAndMenu:H,forStaff:wt},data(){return{forStaff:wt}},beforeCreate(){this.$store.commit("setMenuSectionHeader","Сотрудники")}},Ct=It,_t=(0,c.A)(Ct,lt,ct,!1,null,"695971f3",null),Tt=_t.exports,$t=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%","min-height":"100%"}},[e("headerAndMenu",[e(t.forStaffGroups,{tag:"component"})],1)],1)},Pt=[],Ut=a(6278),Et=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},[e("div",{staticClass:"functionsBlock"},[e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"48px","margin-right":"5px"},attrs:{color:"green",disabled:t.disableAll},on:{click:t.openDialogCreate}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-plus")]),t._v(" Добавить ")],1),e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"48px","margin-left":"5px"},attrs:{color:"red",disabled:t.disableAll},on:{click:t.removeUserGroups}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-cancel")]),t._v(" Удалить ")],1)],1),e("div",{staticStyle:{height:"100%",width:"100%","padding-top":"10px"}},[e(pt.A,{staticClass:"elevation-1",staticStyle:{"max-height":"100%",width:"100%"},attrs:{headers:t.dataTableHeaders,items:t.staffGroupsForView,"item-key":"id","loading-text":"Минуточку... Данные на подходе"},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",[e("td",[e(ut.A,{on:{click:function(t){t.stopPropagation()}},model:{value:a.isSelected,callback:function(e){t.$set(a,"isSelected",e)},expression:"item.isSelected"}})],1),t._l(t.dataTableHeaders,(function(i,s){return"empty"!==i.value?e("td",{key:s,on:{click:function(e){return e.stopPropagation(),t.openDialogUpdate(a)}}},[t._v(" "+t._s(a[i.value])+" ")]):t._e()}))],2)]}},{key:"no-data",fn:function(){return[e(dt.A,{staticStyle:{"margin-top":"16px",color:"#666666"},attrs:{value:!0,dense:""}},[t._v(" Всё куда-то пропало... Обратитесь куда-нибудь ")])]},proxy:!0}])})],1),e(ht.A,{attrs:{"max-width":"600px",persistent:""},model:{value:t.dialogUpdate,callback:function(e){t.dialogUpdate=e},expression:"dialogUpdate"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"20px 30px"}},[e("div",[e(y.A,{attrs:{required:"",label:"Название группы"},model:{value:t.updatingItem.title,callback:function(e){t.$set(t.updatingItem,"title",e)},expression:"updatingItem.title"}}),e(y.A,{attrs:{required:"",label:"Краткое описание"},model:{value:t.updatingItem.description,callback:function(e){t.$set(t.updatingItem,"description",e)},expression:"updatingItem.description"}}),e("div",[e("div",[e(ut.A,{attrs:{label:t.checkboxesLabels.seeStaff},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.seeStaff,callback:function(e){t.$set(t.updatingItem,"seeStaff",e)},expression:"updatingItem.seeStaff"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seeStaffGroups},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.seeStaffGroups,callback:function(e){t.$set(t.updatingItem,"seeStaffGroups",e)},expression:"updatingItem.seeStaffGroups"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seeOrders},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.seeOrders,callback:function(e){t.$set(t.updatingItem,"seeOrders",e)},expression:"updatingItem.seeOrders"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.seePublications,callback:function(e){t.$set(t.updatingItem,"seePublications",e)},expression:"updatingItem.seePublications"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateStaff},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.updateStaff,callback:function(e){t.$set(t.updatingItem,"updateStaff",e)},expression:"updatingItem.updateStaff"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateStaffGroups},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.updateStaffGroups,callback:function(e){t.$set(t.updatingItem,"updateStaffGroups",e)},expression:"updatingItem.updateStaffGroups"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateOrders},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.updateOrders,callback:function(e){t.$set(t.updatingItem,"updateOrders",e)},expression:"updatingItem.updateOrders"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updatePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.updatePublications,callback:function(e){t.$set(t.updatingItem,"updatePublications",e)},expression:"updatingItem.updatePublications"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.changeAuthData},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.changeAuthData,callback:function(e){t.$set(t.updatingItem,"changeAuthData",e)},expression:"updatingItem.changeAuthData"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.writePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.updatingItem.writePublications,callback:function(e){t.$set(t.updatingItem,"writePublications",e)},expression:"updatingItem.writePublications"}})],1)]),e("div",{staticClass:"twoButtons"},[e(f.A,{staticStyle:{color:"white"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")])],1)],1)])],1),e(ht.A,{attrs:{"max-width":"600px",persistent:""},model:{value:t.dialogCreate,callback:function(e){t.dialogCreate=e},expression:"dialogCreate"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"20px 30px"}},[e("div",[e(y.A,{attrs:{required:"",label:"Название группы"},model:{value:t.creatingItem.title,callback:function(e){t.$set(t.creatingItem,"title",e)},expression:"creatingItem.title"}}),e(y.A,{attrs:{required:"",label:"Краткое описание"},model:{value:t.creatingItem.description,callback:function(e){t.$set(t.creatingItem,"description",e)},expression:"creatingItem.description"}}),e("div",[e(ut.A,{attrs:{label:t.checkboxesLabels.seeStaff},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.seeStaff,callback:function(e){t.$set(t.creatingItem,"seeStaff",e)},expression:"creatingItem.seeStaff"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seeStaffGroups},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.seeStaffGroups,callback:function(e){t.$set(t.creatingItem,"seeStaffGroups",e)},expression:"creatingItem.seeStaffGroups"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seeOrders},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.seeOrders,callback:function(e){t.$set(t.creatingItem,"seeOrders",e)},expression:"creatingItem.seeOrders"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.seePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.seePublications,callback:function(e){t.$set(t.creatingItem,"seePublications",e)},expression:"creatingItem.seePublications"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateStaff},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.updateStaff,callback:function(e){t.$set(t.creatingItem,"updateStaff",e)},expression:"creatingItem.updateStaff"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateStaffGroups},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.updateStaffGroups,callback:function(e){t.$set(t.creatingItem,"updateStaffGroups",e)},expression:"creatingItem.updateStaffGroups"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updateOrders},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.updateOrders,callback:function(e){t.$set(t.creatingItem,"updateOrders",e)},expression:"creatingItem.updateOrders"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.updatePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.updatePublications,callback:function(e){t.$set(t.creatingItem,"updatePublications",e)},expression:"creatingItem.updatePublications"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.changeAuthData},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.changeAuthData,callback:function(e){t.$set(t.creatingItem,"changeAuthData",e)},expression:"creatingItem.changeAuthData"}}),e(ut.A,{attrs:{label:t.checkboxesLabels.writePublications},on:{click:function(t){t.stopPropagation()}},model:{value:t.creatingItem.writePublications,callback:function(e){t.$set(t.creatingItem,"writePublications",e)},expression:"creatingItem.writePublications"}})],1),e("div",{staticClass:"twoButtons"},[e(f.A,{staticStyle:{color:"white"},attrs:{color:"grey"},on:{click:t.cancelCreate}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveCreate}},[t._v(" Сохранить ")])],1)],1)])],1),e(v.A,{attrs:{timeout:"2000",color:"success"},model:{value:t.changesSaved,callback:function(e){t.changesSaved=e},expression:"changesSaved"}},[t._v("Изменения успешно сохранены.")]),e(v.A,{attrs:{timeout:"2000",color:"red"},model:{value:t.snackError,callback:function(e){t.snackError=e},expression:"snackError"}},[t._v(t._s(t.snackErrorText))])],1)},Dt=[],Ft={name:"forStaff",data(){return{dataTableHeaders:[{text:"",value:"empty",sortable:!1},{text:"ID",align:"start",value:"id"},{text:"Название",align:"start",value:"title"},{text:"Краткое описание",align:"start",value:"description",sortable:!1}],staffGroupsForView:[],dialogUpdate:!1,dialogCreate:!1,updatingItem:{},creatingItem:{title:"",description:"",seeStaff:!1,seeStaffGroups:!1,seeOrders:!1,seePublications:!1,updateStaff:!1,updateStaffGroups:!1,updateOrders:!1,updatePublications:!1,changeAuthData:!1,writePublications:!1},checkboxesLabels:{seeStaff:'Просматривать "Сотрудники"',seeStaffGroups:'Просматривать "Группы сотрудников"',seeOrders:'Просматривать "Заказы"',seePublications:'Просматривать "Публикации"',updateStaff:'Редактировать "Сотрудники"',updateStaffGroups:'Редактировать "Группы сотрудников"',updateOrders:'Редактировать "Заказы"',updatePublications:'Редактировать "Публикации"',changeAuthData:"Изменять данные аутентификации пользователя",writePublications:"Добавлять публикации"},changesSaved:!1,snackError:!1,snackErrorText:"",disableAll:!1}},async created(){const t="/internal/user_group/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.staffGroupsForView=e.data,this.staffGroupsForView.map((t=>{this.$set(t,"isSelected",!1)})))}))},methods:{async openDialogUpdate(t){const e=`/internal/user_group/${t.id}`,a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0):this.updatingItem=e.data})),this.dialogUpdate=!0},async saveUpdates(){const t="/internal/user_group/update",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.updatingItem)};await fetch(t,e).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{this.dialogUpdate=!1,this.changesSaved=!0,this.updatingItem={};const t="/internal/user_group/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0):(this.staffGroupsForView=e.data,this.staffGroupsForView.map((t=>{this.$set(t,"isSelected",!1)})))}))}}))},cancelUpdates(){this.dialogUpdate=!1,this.updatingItem={}},openDialogCreate(){this.dialogCreate=!0},async saveCreate(){const t="/internal/user_group/create",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.creatingItem)};await fetch(t,e).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText="Отсутствует название или описание группы",this.snackError=!0;else{const t="/internal/user_group/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.staffGroupsForView=e.data,this.staffGroupsForView.map((t=>{this.$set(t,"isSelected",!1)})),this.dialogCreate=!1,this.changesSaved=!0,this.creatingItem={}}}))}}))},cancelCreate(){this.dialogCreate=!1,this.creatingItem={}},async removeUserGroups(){let t=[];this.staffGroupsForView.map((e=>{e.isSelected&&t.push(e.id)}));const e="/internal/user_group/delete",a={method:"DELETE",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify({idList:t})};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{const t="/internal/user_group/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{if(200!==t.status)throw t.error;{const e=await t.json();this.staffGroupsForView=e.data,this.staffGroupsForView.map((t=>{this.$set(t,"isSelected",!1)}))}}))}})),this.staffGroupsForView.map((e=>{t.map((t=>{e.id===t&&(e.isSelected=!1)}))}))}}},Gt=Ft,jt=(0,c.A)(Gt,Et,Dt,!1,null,"4dbd0b4c",null),qt=jt.exports,zt={name:"staffGroups",components:{headerAndMenu:H,forStaffGroups:qt},data(){return{forStaffGroups:"forStaffGroups"}},beforeCreate(){this.$store.commit("setMenuSectionHeader","Группы сотрудников")}},Ot=zt,Mt=(0,c.A)(Ot,$t,Pt,!1,null,"5a6228be",null),Nt=Mt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%","min-height":"100%"}},[e("headerAndMenu",[e(t.forOrders,{tag:"component"})],1)],1)},Rt=[],Ht=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},[e("div",{staticStyle:{display:"flex","flex-wrap":"nowrap"}},[e(y.A,{staticStyle:{padding:"0"},attrs:{solo:"",label:"Поиск","append-icon":"mdi-magnify","hide-details":"","single-line":"",disabled:t.disableAll},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("div",{staticStyle:{height:"100%",width:"100%","padding-top":"10px"}},[e(pt.A,{staticClass:"elevation-1",staticStyle:{"max-height":"100%",width:"100%"},attrs:{headers:t.dataTableHeaders,items:t.orders,search:t.search,"items-per-page":15,"item-key":"id","loading-text":"Минуточку... Данные на подходе"},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",t._l(t.dataTableHeaders,(function(i,s){return e("td",{key:s,on:{click:function(e){return e.stopPropagation(),t.openDialogUpdate(a)}}},[t._v(" "+t._s(a[i.value])+" ")])})),0)]}},{key:"no-data",fn:function(){return[e(dt.A,{staticStyle:{"margin-top":"16px",color:"#666666"},attrs:{value:!0,dense:""}},[t._v(" Всё куда-то пропало... Обратитесь куда-нибудь ")])]},proxy:!0}])})],1),e(ht.A,{attrs:{"max-width":"1200px !important",persistent:""},model:{value:t.dialogUpdate,callback:function(e){t.dialogUpdate=e},expression:"dialogUpdate"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"30px 30px 20px","max-width":"100%"}},[e("div",[e("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e(y.A,{attrs:{disabled:!0,required:"",label:"Код заказа"},model:{value:t.updatingItem.code,callback:function(e){t.$set(t.updatingItem,"code",e)},expression:"updatingItem.code"}}),e(y.A,{attrs:{disabled:!0,required:"",label:"Заказчик"},model:{value:t.updatingItem.customer,callback:function(e){t.$set(t.updatingItem,"customer",e)},expression:"updatingItem.customer"}}),e(y.A,{attrs:{required:"",label:"Телефон"},model:{value:t.updatingItem.phone,callback:function(e){t.$set(t.updatingItem,"phone",e)},expression:"updatingItem.phone"}}),e(y.A,{attrs:{required:"",label:"E-mail"},model:{value:t.updatingItem.email,callback:function(e){t.$set(t.updatingItem,"email",e)},expression:"updatingItem.email"}}),e(y.A,{attrs:{disabled:!0,required:"",label:"Дата заказа"},model:{value:t.updatingItem.date,callback:function(e){t.$set(t.updatingItem,"date",e)},expression:"updatingItem.date"}}),e(W.A,{attrs:{required:"",label:"Статус",items:["Принят","Готовится к отправке","В пути","Доставлен","Завершён","Отменён"]},model:{value:t.updatingItem.status,callback:function(e){t.$set(t.updatingItem,"status",e)},expression:"updatingItem.status"}}),e(y.A,{attrs:{disabled:!0,required:"",label:"Сумма заказа"},model:{value:t.updatingItem.fullPrice,callback:function(e){t.$set(t.updatingItem,"fullPrice",e)},expression:"updatingItem.fullPrice"}}),e(W.A,{attrs:{required:"",label:"Предоплачен",items:["Да","Нет"]},model:{value:t.updatingItem.prepaid,callback:function(e){t.$set(t.updatingItem,"prepaid",e)},expression:"updatingItem.prepaid"}})],1),e("p",{staticStyle:{"text-align":"center","font-size":"1.3em","margin-top":"20px"}},[t._v(" Состав заказа ")]),e(pt.A,{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{headers:t.dataTableHeadersOneOrder,items:t.updatingItem.structure,"items-per-page":5,"item-key":"name","loading-text":"Минуточку... Данные на подходе"},scopedSlots:t._u([{key:"no-data",fn:function(){return[e(dt.A,{staticStyle:{"margin-top":"16px",color:"#666666"},attrs:{value:!0,dense:""}},[t._v(" Всё куда-то пропало... Обратитесь куда-нибудь ")])]},proxy:!0}])}),e("div",{staticClass:"twoButtons"},[e(b.A),e(f.A,{staticStyle:{color:"white","margin-right":"40px"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")]),e(b.A)],1)],1)])],1),e(v.A,{attrs:{timeout:"2000",color:"success"},model:{value:t.changesSaved,callback:function(e){t.changesSaved=e},expression:"changesSaved"}},[t._v("Изменения успешно сохранены.")]),e(v.A,{attrs:{timeout:"2000",color:"red"},model:{value:t.snackError,callback:function(e){t.snackError=e},expression:"snackError"}},[t._v(t._s(t.snackErrorText))])],1)},Vt=[],Bt={name:"forOrders",data(){return{dataTableHeaders:[{text:"ID",align:"start",value:"id"},{text:"Код",align:"start",value:"code",sortable:!1},{text:"Заказчик",value:"customer",sortable:!1},{text:"Статус",value:"status",sortable:!1},{text:"Оплачен",value:"prepaid",sortable:!1},{text:"Дата",value:"date"},{text:"Телефон",value:"phone",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Итоговая стоимость",value:"fullPrice"}],dataTableHeadersOneOrder:[{text:"Наименование",value:"name"},{text:"Категория",value:"category",sortable:!1},{text:"Цена за ед.",value:"price"},{text:"Количество",value:"count"},{text:"Итого",value:"fullPrice"}],search:"",orders:[],dialogUpdate:!1,updatingItem:{},changesSaved:!1,snackError:!1,snackErrorText:"",disableAll:!1}},async created(){const t="/internal/order/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.orders=e.data,this.orders.map((t=>{t.prepaid?t["prepaid"]="Да":t["prepaid"]="Нет",t["date"]=this.formatDate(t.date)})))}))},methods:{async openDialogUpdate(t){const e=`/internal/order/${t.id}`,a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.updatingItem=e.data,this.updatingItem["date"]=this.formatDate(this.updatingItem.date),this.updatingItem.prepaid?this.updatingItem["prepaid"]="Да":this.updatingItem["prepaid"]="Нет")})),this.dialogUpdate=!0},async saveUpdates(){let t={};t={id:this.updatingItem.id,phone:this.updatingItem.phone,email:this.updatingItem.email,status:this.updatingItem.status},"Да"===this.updatingItem.prepaid?t["prepaid"]=!0:t["prepaid"]=!1;const e="/internal/order/update",a={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(t)};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0;else{const t="/internal/order/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.orders=e.data,this.orders.map((t=>{t.prepaid?t["prepaid"]="Да":t["prepaid"]="Нет",t["date"]=this.formatDate(t.date)})))}))}})),this.dialogUpdate=!1,this.changesSaved=!0,this.updatingItem={}},cancelUpdates(){this.dialogUpdate=!1,this.updatingItem={}},formatDate(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear();return`${a}.${i}.${s}`}}},Jt=Bt,Zt=(0,c.A)(Jt,Ht,Vt,!1,null,"c127c63c",null),Yt=Zt.exports,Wt={name:"orders",components:{headerAndMenu:H,forOrders:Yt},data(){return{forOrders:"forOrders"}},beforeCreate(){this.$store.commit("setMenuSectionHeader","Заказы")}},Kt=Wt,Qt=(0,c.A)(Kt,Lt,Rt,!1,null,"0f546022",null),Xt=Qt.exports,te=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{width:"100%","min-height":"100%"}},[e("headerAndMenu",[e(t.forPublications,{tag:"component"})],1)],1)},ee=[],ae=a(7402),ie=a(4794),se=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex",width:"100%",height:"100%","flex-direction":"column"}},[e("div",{staticClass:"functionsBlock"},[e(y.A,{staticStyle:{display:"flex","flex-grow":"18","margin-right":"5px"},attrs:{solo:"",label:"Поиск","append-icon":"mdi-magnify","hide-details":"","single-line":"",disabled:t.disableAll},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"100%",margin:"0px 5px"},attrs:{color:"green",disabled:t.disableAll},on:{click:t.openDialogCreate}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-plus")]),t._v(" Добавить ")],1),e(f.A,{staticStyle:{color:"white",display:"flex","flex-grow":"1",height:"100%","margin-left":"5px"},attrs:{color:"red",disabled:t.disableAll},on:{click:t.removePublications}},[e(E.A,{staticStyle:{"margin-right":"3px"}},[t._v("mdi-cancel")]),t._v(" Удалить ")],1)],1),e("div",{staticStyle:{height:"100%",width:"100%","padding-top":"10px"}},[e(pt.A,{staticClass:"elevation-1",staticStyle:{"max-height":"100%",width:"100%"},attrs:{headers:t.dataTableHeaders,items:t.publications,search:t.search,"item-key":"id","loading-text":"Минуточку... Данные на подходе"},scopedSlots:t._u([{key:"item",fn:function({item:a}){return[e("tr",[e("td",[e(ut.A,{on:{click:function(t){t.stopPropagation()}},model:{value:a.isSelected,callback:function(e){t.$set(a,"isSelected",e)},expression:"item.isSelected"}})],1),t._l(t.dataTableHeaders,(function(i,s){return"empty"!==i.value?e("td",{key:s,on:{click:function(e){return e.stopPropagation(),t.openDialogUpdate(a)}}},[t._v(" "+t._s(a[i.value])+" ")]):t._e()}))],2)]}},{key:"no-data",fn:function(){return[e(dt.A,{staticStyle:{"margin-top":"16px",color:"#666666"},attrs:{value:!0,dense:""}},[t._v(" Всё куда-то пропало... Обратитесь куда-нибудь ")])]},proxy:!0}])})],1),e(ht.A,{attrs:{"max-width":"1200px",persistent:""},model:{value:t.dialogUpdate,callback:function(e){t.dialogUpdate=e},expression:"dialogUpdate"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"30px 30px 20px","max-width":"100%"}},[e("div",[e("p",{staticStyle:{"font-size":"1.25em","text-align":"center"}},[t._v("Общая информация")]),e("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e(y.A,{staticClass:"textField",staticStyle:{width:"100% !important"},attrs:{label:"Название",required:""},model:{value:t.updatingItem.title,callback:function(e){t.$set(t.updatingItem,"title",e)},expression:"updatingItem.title"}}),e(y.A,{staticClass:"textField",attrs:{label:"Дата публикации",required:"",disabled:!0},model:{value:t.updatingItem.date,callback:function(e){t.$set(t.updatingItem,"date",e)},expression:"updatingItem.date"}}),e(y.A,{staticClass:"textField",attrs:{label:"Автор публикации",required:"",disabled:!0},model:{value:t.updatingItem.author,callback:function(e){t.$set(t.updatingItem,"author",e)},expression:"updatingItem.author"}}),e(y.A,{staticClass:"textField",attrs:{label:"Дата последних изменений",required:"",disabled:!0},model:{value:t.updatingItem.lastUpdatesDate,callback:function(e){t.$set(t.updatingItem,"lastUpdatesDate",e)},expression:"updatingItem.lastUpdatesDate"}}),e(y.A,{staticClass:"textField",attrs:{label:"Автор последних изменений",required:"",disabled:!0},model:{value:t.updatingItem.lastUpdatesAuthor,callback:function(e){t.$set(t.updatingItem,"lastUpdatesAuthor",e)},expression:"updatingItem.lastUpdatesAuthor"}})],1),e("p",{staticStyle:{"font-size":"1.25em","margin-top":"24px","text-align":"center"}},[t._v(" Изображение публикации ")]),e("div",{key:t.keyForUpdateImgUpdate,staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end",width:"100%","text-align":"center"}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"calc(100% - 82px)"}},[e(J.A,{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[t.updatingItem.image?e(Z.A,{staticStyle:{"border-radius":"15px"},attrs:{src:t.updatingItem.image,contain:""}},[e(Ut.A,{staticClass:"imgFieldExist",on:{click:t.openFileDialogUpdate}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)"}},[t._v(" mdi-image-edit-outline ")])],1)],1):e(Ut.A,{staticClass:"imgField",on:{click:t.openFileDialogUpdate}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a}},[t._v(" mdi-image-edit-outline ")])],1)]}}])})],1),e("div",{staticStyle:{"margin-left":"4px"}},[e(f.A,{staticStyle:{height:"100%",color:"white"},attrs:{color:"red"},on:{click:t.removeImgUpdate}},[e(E.A,{attrs:{size:"50",outlined:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)]),e("p",{staticStyle:{"font-size":"1.25em","margin-top":"48px","text-align":"center"}},[t._v(" Подзаголовки и состав ")]),e("div",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","margin-right":"2px"}},[t.sectionsCreate.length?e("draggable",t._b({staticStyle:{width:"100%"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.sectionsCreate,callback:function(e){t.sectionsCreate=e},expression:"sectionsCreate"}},"draggable",t.dragOptions,!1),t._l(t.sectionsCreate,(function(a,i){return e("div",{key:i,class:t.colorSection(a),on:{click:function(e){return e.stopPropagation(),t.openSectionDialog(a,i)}}},[t._v(" "+t._s(a.title)+" ")])})),0):e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","align-items":"center"}},[e("p",{staticStyle:{"margin-bottom":"0px !important","font-size":"1.2em","margin-right":"4px","text-align":"center"}},[t._v(" Отсутствует состав публикации. Исправьте это, нажав на кнопку справа. ")])])],1),e("div",{staticStyle:{"margin-left":"2px"}},[e(f.A,{staticStyle:{height:"100%"},attrs:{color:"success"},on:{click:t.addSection}},[e(E.A,{attrs:{size:"50",outlined:""}},[t._v(" mdi-plus ")])],1)],1)])]),e("div",{staticClass:"buttonsBlock"},[e(b.A),e(f.A,{staticStyle:{color:"white","margin-right":"40px"},attrs:{color:"grey"},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveUpdates}},[t._v(" Сохранить ")]),e(b.A)],1)])],1),e(ht.A,{attrs:{"max-width":"1200px !important",persistent:""},model:{value:t.dialogCreate,callback:function(e){t.dialogCreate=e},expression:"dialogCreate"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"30px 30px 20px","max-width":"100%"}},[e("div",[e("p",{staticStyle:{"font-size":"1.25em","text-align":"center"}},[t._v("Общая информация")]),e("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[e(y.A,{staticClass:"textField",staticStyle:{width:"100% !important"},attrs:{label:"Название",required:""},model:{value:t.creatingItem.title,callback:function(e){t.$set(t.creatingItem,"title",e)},expression:"creatingItem.title"}}),e(y.A,{staticClass:"textField",attrs:{label:"Дата публикации",required:"",disabled:!0},model:{value:t.creatingItem.date,callback:function(e){t.$set(t.creatingItem,"date",e)},expression:"creatingItem.date"}}),e(y.A,{staticClass:"textField",attrs:{label:"Автор публикации",required:"",disabled:!0},model:{value:t.creatingItem.author,callback:function(e){t.$set(t.creatingItem,"author",e)},expression:"creatingItem.author"}}),e(y.A,{staticClass:"textField",attrs:{label:"Дата последних изменений",required:"",disabled:!0},model:{value:t.creatingItem.lastUpdatesDate,callback:function(e){t.$set(t.creatingItem,"lastUpdatesDate",e)},expression:"creatingItem.lastUpdatesDate"}}),e(y.A,{staticClass:"textField",attrs:{label:"Автор последних изменений",required:"",disabled:!0},model:{value:t.creatingItem.lastUpdatesAuthor,callback:function(e){t.$set(t.creatingItem,"lastUpdatesAuthor",e)},expression:"creatingItem.lastUpdatesAuthor"}})],1),e("p",{staticStyle:{"font-size":"1.25em","margin-top":"24px","text-align":"center"}},[t._v(" Изображение публикации ")]),e("div",{key:t.keyForUpdateImg,staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end",width:"100%","text-align":"center"}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"calc(100% - 82px)"}},[e(J.A,{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[t.creatingItem.image?e(Z.A,{staticStyle:{"border-radius":"15px"},attrs:{src:t.creatingItem.image,contain:""}},[e(Ut.A,{staticClass:"imgFieldExist",on:{click:t.openFileDialog}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)"}},[t._v(" mdi-image-edit-outline ")])],1)],1):e(Ut.A,{staticClass:"imgField",on:{click:t.openFileDialog}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a}},[t._v(" mdi-image-edit-outline ")])],1)]}}])})],1),e("div",{staticStyle:{"margin-left":"4px"}},[e(f.A,{staticStyle:{height:"100%",color:"white"},attrs:{color:"red"},on:{click:t.removeImg}},[e(E.A,{attrs:{size:"50",outlined:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)]),e("p",{staticStyle:{"font-size":"1.25em","margin-top":"48px","text-align":"center"}},[t._v(" Подзаголовки и состав ")]),e("div",{staticStyle:{display:"flex","flex-direction":"row",width:"100%"}},[e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","margin-right":"2px"}},[t.sectionsCreate.length?e("draggable",t._b({staticStyle:{width:"100%"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.sectionsCreate,callback:function(e){t.sectionsCreate=e},expression:"sectionsCreate"}},"draggable",t.dragOptions,!1),t._l(t.sectionsCreate,(function(a,i){return e("div",{key:i,class:t.colorSection(a),on:{click:function(e){return e.stopPropagation(),t.openSectionDialog(a,i)}}},[t._v(" "+t._s(a.title)+" ")])})),0):e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","align-items":"center"}},[e("p",{staticStyle:{"margin-bottom":"0px !important","font-size":"1.2em","margin-right":"4px","text-align":"center"}},[t._v(" Отсутствует состав публикации. Исправьте это, нажав на кнопку справа. ")])])],1),e("div",{staticStyle:{"margin-left":"2px"}},[e(f.A,{staticStyle:{height:"100%"},attrs:{color:"success"},on:{click:t.addSection}},[e(E.A,{attrs:{size:"50",outlined:""}},[t._v(" mdi-plus ")])],1)],1)])]),e("div",{staticClass:"buttonsBlock"},[e(b.A),e(f.A,{staticStyle:{color:"white","margin-right":"40px"},attrs:{color:"grey"},on:{click:function(e){t.dialogCreate=!1}}},[t._v(" Отменить ")]),e(f.A,{staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveCreate}},[t._v(" Сохранить ")]),e(b.A)],1)])],1),e(ht.A,{attrs:{"max-width":"1200px !important",persistent:""},model:{value:t.dialogSection,callback:function(e){t.dialogSection=e},expression:"dialogSection"}},[e(Ut.A,{staticStyle:{"background-color":"white",padding:"30px 30px 20px","max-width":"100%"}},[e("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",width:"100%"}},[e("div",{staticStyle:{display:"flex",width:"100%"}},[e(y.A,{staticStyle:{width:"100% !important"},attrs:{label:"Название подзаголовка",required:""},model:{value:t.updateSectionTitle,callback:function(e){t.updateSectionTitle=e},expression:"updateSectionTitle"}}),e(ut.A,{scopedSlots:t._u([{key:"label",fn:function(){return[e(ie.A,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(E.A,t._g(t._b({},"v-icon",i,!1),a),[t._v("mdi-help-circle")])]}}])},[e("span",[t._v("Указанный вами подзаголовок будет отображаться в итоговой публикации.")])])]},proxy:!0}]),model:{value:t.updateSectionVisible,callback:function(e){t.updateSectionVisible=e},expression:"updateSectionVisible"}})],1),e(ae.A,{staticStyle:{width:"100%"},attrs:{label:"Контент подзаголовка",rows:"7",counter:"",outlined:""},model:{value:t.updateSectionContentText,callback:function(e){t.updateSectionContentText=e},expression:"updateSectionContentText"}}),e("div",{key:t.keyForUpdateImgSection,staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end",width:"100%","text-align":"center"}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"calc(100% - 82px)"}},[e(J.A,{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[t.updateSectionContentPicture?e(Z.A,{staticStyle:{"border-radius":"15px"},attrs:{src:t.updateSectionContentPicture,contain:""}},[e(Ut.A,{staticClass:"imgFieldExist",on:{click:t.openFileDialogSection}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a},attrs:{color:"rgba(255, 255, 255, 0)"}},[t._v(" mdi-image-edit-outline ")])],1)],1):e(Ut.A,{staticClass:"imgField",on:{click:t.openFileDialogSection}},[e(E.A,{staticClass:"fixIcons",class:{"show-btns":a}},[t._v(" mdi-image-edit-outline ")])],1)]}}])})],1),e("div",{staticStyle:{"margin-left":"4px"}},[e(f.A,{staticStyle:{height:"100%",color:"white"},attrs:{color:"red"},on:{click:t.removeImgSection}},[e(E.A,{attrs:{size:"50",outlined:""}},[t._v(" mdi-trash-can-outline ")])],1)],1)])],1),e("div",{staticClass:"buttonsBlock"},[e(b.A),e(f.A,{staticClass:"sectionButton",staticStyle:{color:"white"},attrs:{color:"red"},on:{click:t.removeSection}},[t._v(" Удалить ")]),e(b.A),e(f.A,{staticClass:"sectionButton",staticStyle:{color:"white"},attrs:{color:"grey"},on:{click:function(e){t.dialogSection=!1}}},[t._v(" Отменить ")]),e(b.A),e(f.A,{staticClass:"sectionButton",staticStyle:{color:"white"},attrs:{color:"#4CAF50"},on:{click:t.saveSection}},[t._v(" Сохранить ")]),e(b.A)],1)])],1),e(v.A,{attrs:{timeout:"2000",color:"success"},model:{value:t.changesSaved,callback:function(e){t.changesSaved=e},expression:"changesSaved"}},[t._v("Изменения успешно сохранены.")]),e(v.A,{attrs:{timeout:"2000",color:"error"},model:{value:t.newSectionExist,callback:function(e){t.newSectionExist=e},expression:"newSectionExist"}},[t._v("Сначала заполните уже созданный подзаголовок.")]),e(v.A,{attrs:{timeout:"2000",color:"red"},model:{value:t.snackError,callback:function(e){t.snackError=e},expression:"snackError"}},[t._v(t._s(t.snackErrorText))])],1)},ne=[];let oe=[{id:1,title:"День рождения КБЖБ",date:"12.04.2024",author:"Зубенко Михаил Петрович",lastUpdatesDate:"12.04.2024",lastUpdatesAuthor:"Королёв Фёдор Илёсович",picture:"",structure:[{title:"Начало празднования",visible:!0,content:{text:"",picture:""}},{title:"Пьянка, конкурсы и прочие атрибуты тимбилдинга",visible:!0,content:{text:""}},{title:"Тут пикча",visible:!1,content:{picture:""}},{title:"Заголовок, которого не будет в статье",visible:!1,content:{text:"",picture:""}},{title:"Отходосы и окончание единственного выходного в году",visible:!0,content:{text:"",picture:""}}]},{id:2,title:"День рождения КБЖБ",date:"12.04.2024",author:"Зубенко Михаил Петрович",lastUpdatesDate:"17.04.2024",lastUpdatesAuthor:"Королёв Фёдор Илёсович",picture:"",structure:[{title:"Начало празднования",visible:!0,content:{text:"",picture:""}},{title:"Пьянка, конкурсы и прочие атрибуты тимбилдинга",visible:!0,content:{text:""}},{title:"Тут пикча",visible:!1,content:{picture:""}},{title:"Заголовок, которого не будет в статье",visible:!1,content:{text:"",picture:""}},{title:"Отходосы и окончание единственного выходного в году",visible:!0,content:{text:"",picture:""}}]},{id:3,title:"День рождения КБЖБ",date:"12.04.2024",author:"Зубенко Михаил Петрович",lastUpdatesDate:"24.04.2024",lastUpdatesAuthor:"Королёв Фёдор Илёсович",picture:"",structure:[{title:"Начало празднования",visible:!0,content:{text:"",picture:""}},{title:"Пьянка, конкурсы и прочие атрибуты тимбилдинга",visible:!0,content:{text:""}},{title:"Тут пикча",visible:!1,content:{picture:""}}]}];var re=oe,le=a(432),ce=a.n(le),de={name:"forPublications",components:{draggable:ce()},data(){return{drag:!1,publicationsData:re,dataTableHeaders:[{text:"",value:"empty",sortable:!1},{text:"ID",value:"id"},{text:"Название",value:"title"},{text:"Дата публикации",value:"date"},{text:"Автор",value:"author"},{text:"Последнее обновление",value:"lastUpdatesDate"}],search:"",publications:[],dialogUpdate:!1,updatingItem:{},publicationIdUpdate:null,changesSaved:!1,newSectionExist:!1,snackError:!1,snackErrorText:"",dialogCreate:!1,creatingItem:{title:"",date:"",author:"",lastUpdatesDate:"",lastUpdatesAuthor:"",image:"",structure:[]},keyForUpdateImg:null,keyForUpdateImgUpdate:null,sectionsCreate:[],startSectionsStructure:[],updateSection:{},updateSectionIndex:null,dialogSection:!1,updateSectionTitle:"",updateSectionVisible:!1,updateSectionContentText:"",updateSectionContentPicture:"",keyForUpdateImgSection:null,disableAll:!1}},async created(){const t="/internal/publication/edit/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.publications=e.data,this.publications.map((t=>{this.$set(t,"isSelected",!1)})))}))},methods:{openFileDialog(){const{files:t,open:e,reset:a,onChange:i}=(0,X.uZ0)({accept:"image/*",directory:!1,multiple:!1});e(),i((t=>{if(t.length){const e=new FileReader;e.onload=()=>{let e=new FormData;e.append("image",t[0]),this.queryImageResize(e),this.keyForUpdateImg++},e.readAsDataURL(t[0])}}))},queryImageResize(t){const e="/internal/publication/edit/image",a={method:"POST",headers:{Authorization:this.$store.state.authToken},body:t};fetch(e,a).then((async t=>{const e=await t.json();this.creatingItem.image=`/media/${e.data.imageName}`}))},openFileDialogUpdate(){const{files:t,open:e,reset:a,onChange:i}=(0,X.uZ0)({accept:"image/*",directory:!1,multiple:!1});e(),i((t=>{if(t.length){const e=new FileReader;e.onload=()=>{let e=new FormData;e.append("image",t[0]),this.queryImageResizeUpdate(e),this.keyForUpdateImgUpdate++},e.readAsDataURL(t[0])}}))},queryImageResizeUpdate(t){const e="/internal/publication/edit/image",a={method:"POST",headers:{Authorization:this.$store.state.authToken},body:t};fetch(e,a).then((async t=>{const e=await t.json();this.updatingItem.image=`/media/${e.data.imageName}`}))},openFileDialogSection(){const{files:t,open:e,reset:a,onChange:i}=(0,X.uZ0)({accept:"image/*",directory:!1,multiple:!1});e(),i((t=>{if(t.length){const e=new FileReader;e.onload=()=>{let e=new FormData;e.append("image",t[0]),this.queryImageResizeSection(e),this.keyForUpdateImgSection++},e.readAsDataURL(t[0])}}))},queryImageResizeSection(t){const e="/internal/publication/edit/image",a={method:"POST",headers:{Authorization:this.$store.state.authToken},body:t};fetch(e,a).then((async t=>{const e=await t.json();this.updateSectionContentPicture=`/media/${e.data.imageName}`}))},async openDialogCreate(){let t="";const e="/internal/user/my_info",a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async e=>{const a=await e.json();a.error?(this.snackErrorText=a.message,this.snackError=!0,this.disableAll=!0):t=`${a.data.lastname} ${a.data.firstname} ${a.data.middlename}`}));const i=new Date,s=i.getDate().toString().padStart(2,"0"),n=(i.getMonth()+1).toString().padStart(2,"0"),o=i.getFullYear();this.creatingItem.date=`${s}.${n}.${o}`,this.creatingItem.lastUpdatesDate=`${s}.${n}.${o}`,this.creatingItem.image=null,this.creatingItem.author=t,this.creatingItem.lastUpdatesAuthor=t,this.sectionsCreate=[],this.dialogCreate=!0},removeImg(){this.creatingItem.image=null},async saveCreate(){this.creatingItem.image&&(this.creatingItem["image"]=this.creatingItem.image.slice(7,this.creatingItem.image.length)),this.creatingItem.structure=this.sectionsCreate;const t="/internal/publication/edit/create",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.creatingItem)};await fetch(t,e).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0;else{this.dialogCreate=!1,this.changesSaved=!0,this.creatingItem={};const t="/internal/publication/edit/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.publications=e.data,this.publications.map((t=>{this.$set(t,"isSelected",!1)})))}))}}))},async openDialogUpdate(t){const e=`/internal/publication/edit/${t.id}`,a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0;else{this.updatingItem=e.data,this.updatingItem.image&&(this.updatingItem["image"]=`/media/${this.updatingItem.image}`),this.sectionsCreate=this.updatingItem.structure,this.startSectionsStructure=[...this.updatingItem.structure];const t="/internal/publication/edit/all",a={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,a).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):e.data.map((t=>{t.id===this.updatingItem.id&&(this.updatingItem["title"]=t.title)}))}))}})),this.dialogUpdate=!0},removeImgUpdate(){this.updatingItem.image=null},cancelUpdates(){this.dialogUpdate=!1,this.updatingItem={}},async saveUpdates(){this.updatingItem.image&&(this.updatingItem["image"]=this.updatingItem.image.slice(7,this.updatingItem.image.length)),this.updatingItem.structure=this.sectionsCreate;const t="/internal/publication/edit/update",e={method:"POST",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify(this.updatingItem)};await fetch(t,e).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{const t="/internal/publication/edit/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.publications=e.data,this.publications.map((t=>{this.$set(t,"isSelected",!1)})))}))}})),this.dialogUpdate=!1,this.changesSaved=!0,this.updatingItem={}},async removePublications(){let t=[];this.publications.map((e=>{e.isSelected&&t.push(e.id)}));const e="/internal/publication/edit/delete",a={method:"DELETE",headers:{Authorization:this.$store.state.authToken,"Content-Type":"application/json"},body:JSON.stringify({idList:t})};await fetch(e,a).then((async t=>{const e=await t.json();if(e.error)this.snackErrorText=e.message,this.snackError=!0;else{const t="/internal/publication/edit/all",e={method:"GET",headers:{Authorization:this.$store.state.authToken}};await fetch(t,e).then((async t=>{const e=await t.json();e.error?(this.snackErrorText=e.message,this.snackError=!0,this.disableAll=!0):(this.publications=e.data,this.publications.map((t=>{this.$set(t,"isSelected",!1)})))}))}})),this.publications.map((e=>{t.map((t=>{e.id===t&&(e.isSelected=!1)}))}))},openSectionDialog(t,e){console.log("NOW SECTION:",t,e),this.updateSection=t,this.updateSectionIndex=e,this.updateSectionTitle=null,this.updateSectionVisible=null,this.updateSectionContentText=null,this.updateSectionContentPicture=null,this.keyForUpdateImgSection++,this.updateSection=t,this.updateSectionIndex=e,"НОВЫЙ ПОДЗАГОЛОВОК"===this.updateSection.title?this.updateSectionTitle="":this.updateSectionTitle=this.updateSection.title,t.visible?this.updateSectionVisible=t.visible:this.updateSectionVisible=null,t.body?this.updateSectionContentText=t.body:this.updateSectionContentText=null,t.image?this.updateSectionContentPicture="/media/"+t.image:this.updateSectionContentPicture=null,this.dialogSection=!0},addSection(){let t=!0;this.sectionsCreate.map((e=>{"НОВЫЙ ПОДЗАГОЛОВОК"===e.title&&(t=!t)})),t?this.sectionsCreate.push({title:"НОВЫЙ ПОДЗАГОЛОВОК",visible:!1,body:"",image:""}):this.newSectionExist=!0},removeSection(){this.sectionsCreate.splice(this.updateSectionIndex,1),this.dialogSection=!1},removeImgSection(){this.updateSectionContentPicture=""},saveSection(){this.updateSectionTitle?(this.updateSectionContentPicture&&(this.updateSectionContentPicture=this.updateSectionContentPicture.slice(7,this.updateSectionContentPicture.length)),this.sectionsCreate[this.updateSectionIndex]={title:this.updateSectionTitle,visible:this.updateSectionVisible,body:this.updateSectionContentText,image:this.updateSectionContentPicture},this.dialogSection=!1,this.changesSaved=!0,this.updateSection={}):(this.snackErrorText="Подзаголовок обязательно должен иметь название.",this.snackError=!0)},colorSection(t){return"НОВЫЙ ПОДЗАГОЛОВОК"===t.title?"section newSection":t.visible?"section visibleSection":"section notVisibleSection"}},computed:{dragOptions(){return{animation:200}}}},ue=de,pe=(0,c.A)(ue,se,ne,!1,null,"8fe6fa72",null),he=pe.exports,me={name:"publications",components:{headerAndMenu:H,forPublications:he},data(){return{forPublications:"forPublications"}},beforeCreate(){this.$store.commit("setMenuSectionHeader","Публикации")}},ge=me,fe=(0,c.A)(ge,te,ee,!1,null,"7862746f",null),xe=fe.exports;let ve={startPage:"Публикации",startPageRouter:"publications"};var be=ve;i.Ay.use(p.Ay);const ye=[{path:"/",redirect:`/${be.startPageRouter}`},{path:"/authorization",name:"authorization",component:_},{path:"/me",name:"me",component:rt,meta:{requiresAuth:!0}},{path:"/staff",name:"staff",component:Tt,meta:{requiresAuth:!0}},{path:"/staffGroups",name:"staffGroups",component:Nt,meta:{requiresAuth:!0}},{path:"/orders",name:"orders",component:Xt,meta:{requiresAuth:!0}},{path:"/publications",name:"publications",component:xe,meta:{requiresAuth:!0}}],Ae=new p.Ay({mode:"history",base:"/admin/",routes:ye});Ae.beforeEach(((t,e,a)=>{t.matched.some((t=>t.meta.requiresAuth))?m.state.auth?a():a({name:"authorization"}):a()}));var Se=Ae,ke=a(5453);i.Ay.use(ke.A);var we=new ke.A({});i.Ay.config.productionTip=!1,new i.Ay({router:Se,store:m,vuetify:we,render:t=>t(u)}).$mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,i,s,n){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],n=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,n,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var d=l(a)}for(e&&e(i);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},i=self["webpackChunkkbzb_admin"]=self["webpackChunkkbzb_admin"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(2890)}));i=a.O(i)})();
//# sourceMappingURL=app.8dbe0ef2.js.map